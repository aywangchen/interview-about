# 网络协议

## 简述网络模型？七层和四层联系与区别？

七层:应用层,表示层,会话层,运输层,网络层,数据链路层,物理层

TCP/IP四层:应用层,传输层,网络层,网络接口层

## 简单说一说TCP报文头?

报文段分为头部和数据两个部分,其中头部包含了此报文段的一些基本信息,其格式如下:

![image-20181024193354277](https://i.imgur.com/7JvyV9m.png)

## TCP和UDP异同？

- TCP协议是一种可靠的,面向连接的协议:保证通信主机之间有可靠的字节流传输,完成流量控制功能,协调收发双方的发送与接收速度,达到正确传输的目的

- UDP是一种不可靠,无连接的协议:其特点是协议简单,额外开销小,效率较高,但是不能保证传输是否正确

## 你哪些协议是在TCP或UDP基础上开发的?

基于TCP协议的有:

- HTTP协议:从Web服务器传输超文本到本地浏览器的传送协议,默认使用80端口.
- FTP:文件传输协议,默认使用21端口.
- SMTP:简单邮件传送协议,用于发送邮件,默认使用25号端口.
- POP3:和SMTP对应,POP3用于接收邮件,默认使用110端口
- Telnet:一种用于远程登陆的端口,用户可以以自己的身份远程连接到计算机上,通过这种端口可以提供一种基于DOS模式下的通信服务,默认使用23端口

基于UDP协议的有:

- DNS:域名解析服务,将域名地址转换为IP地址,默认使用53号端口.
- TFTP(Trival File Transfer Protocal):简单文件传输协议,默认使用69号端口.
- SNMP:简单网络管理协议,默认使用161号端口,是用来管理网络设备的.

### 为什么说TCP是可靠的？

### 简述三次握手和四次握手的过程

三次握手建立链接的过程如下:

在建立TCP连接过程中，需要客户端和服务端总共发送3个报文段以确认连接的建立,其过程如下:

![image-20181024193518005](https://i.imgur.com/dtQHGLZ.png)

1. 第一次握手:Client将标志位SYN置为1,随机产生一个序号(seq)J,并将该数据包发送给Server,Client进入SYN_SENT状态,等待Server确认.
2. 第二次握手:Server接收到报文段,生成一个新的报文段发送给Client,新报文段中:SYN = 1,ACK = 1,序号(seq)= J+1,确认序号(ack) = k(k为随机生成);Server进入SYN_RCVD状态
3. 第三次握手:Client收到报文段,对报文段进行校验(ACK是否为1,ack是否为J+1),校验通过生成一个新的报文段发送给Server:ACK = 1,ack = K+1,此时Client进入ESTABLISHED状态.Server对接收到的报文段校验,校验通过进入ESTABLISHED状态.

四次握手断开链接的过程如下:

![image-20181024193918166](https://i.imgur.com/Z0l2JnO.png)

由于TCP连接时全双工的,因此每个方向都必须要单独进行关闭，这一原则是当一方完成数据发送任务后，发送一个FIN来终止这一方向的连接，收到一个FIN只是意味着这一方向上没有数据流动了，即不会再收到数据了，但是在这个TCP连接上仍然能够发送数据，直到这一方向也发送了FIN。首先进行关闭的一方将执行主动关闭，而另一方则执行被动关闭，上图描述的即是如此

## 说说HTTP 1.0,HTTP 1.1与HTTP 2.0的区别?

1.1相对于1.0：

- 支持长连接
- 增加了host域
- 增加了Range头域，支持断点续传

2.0 相对于1.x：

- 支持多路复用
- 采用二进制分帧
- 首部压缩
- 服务器推送

### 如何提高HTTP传输中数据的安全性？如果让你来设计，你会怎么设计安全的HTTP协议？

### 了解WebSocket技术么？讲讲他与HTTP协议之间的联系？

### 简述SYPD协议是如何提供速度的？

## HTTPS的好处是什么？实现原理呢？

## HTTP协议的格式是怎么样的?

这要分两点来描述:请求协议和响应协议.

对于请求协议而言,其格式如下

| 部分     | 含义                                                         |
| -------- | ------------------------------------------------------------ |
| 请求行   | 用来说明请求类型,要访问的资源以及所使用的HTTP版本:请求方法,请求URL及HTTP版本 |
| 请求头   | 用来说明服务器要使用的附加信息.请求头(request header) ;普通头(general header) ;实体头(entity header) |
|  |请求头部后面的空行是必须的|
| 请求数据 | 通常来说,由于GET请求往往不包含内容实体,因此也不会有实体头.第三部分内容只在POST请求中存在,因为GET请求并不包含任何实体 |

如下所示:

```http
POST / HTTP1.1
Host:www.wrox.com
User-Agent:Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022)
Content-Type:application/x-www-form-urlencoded
Content-Length:40
Connection: Keep-Alive

name=Professional%20Ajax&publisher=Wiley
```

对于响应协议而言,其格式如下:

| 部分     | 含义                                       |
| -------- | ------------------------------------------ |
| 状态行   | 由HTTP协议版本号,状态码,状态消息三部分组成 |
| 响应头   | 用来说明客户端要使用的一些附加信息         |
|          | 消息报头后面的空行是必须的                 |
| 响应正文 | 服务器返回给客户端的文本信息               |



## HTTP协议有哪些方法?

常用的请求有:get,post,update,delete,head,options.

- GET:请求读取由URL所标志的数据
- POST:给服务器添加或者更新数据 
- PUT:在给定的URL下存储一个文档 
- DELETE:删除给定的URL所标志的资源 
- OPTIONS:服务器针对特定资源所支持的HTTP请求方法 
- HEAD:向服务器索要与GET请求相一致的响应,只不过响应体将不会被返回.这一方法可以在不必传输整个响应内容的情况下，就可以获取包含在响应消息头中的元信息

## HTTP中POST和GET请求有什么区别?

- GET是将请求参数加到URL中,POST是将请求数据放在请求体中
- GET传送的数据量较小,一般是不能超过1024字节,POST传送的数据量较大,默认为不受限制。
- 客户端浏览器请求DNS服务器解析域名www.baidu.com 对应的IP地址，然后通过这个IP地址和默认端口80，和服务器建立TCP连接，连接建立之后通过TCP将HTTP会话封装成数据包。
- 在客户端的传输层，把HTTP会话请求分成报文段，添加源和目的端口（如服务器使用80端口监听客户端的请求，客户端由系统随机选择一个端口如5000，与服务器进行交换，服务器把相应的请求返回给客户端的5000端口）然后使用IP层的IP地址查找目的端。
- 在客户端的网络层，通过查找路由表确定如何到达服务器，期间可能经过多个路由器，这些都是由路由器来完成的工作，主要是通过查找路由表来决定通过哪个路径到达服务器。
- 在客户端的链路层，数据包通过链路层发送到路由器，通过邻居协议查找给定IP地址的MAC地址，然后发送ARP请求查找目的地址，如果得到回应后就可以使用ARP（地址解析协议：将ip地址解析成物理地址）的请求应答交换的IP数据包现在就可以传输了，然后发送IP数据包到达服务器的地址。

## HTTP响应状态码?

- 1xx：指示信息--表示请求已接收，继续处理- 
- 2xx：成功--表示请求已被成功接收、理解、接受
- 3xx：重定向--要完成请求必须进行更进一步的操作
- 4xx：客户端错误--请求有语法错误或请求无法实现
- 5xx：服务器端错误--服务器未能实现合法的请求

常见的状态码有以下几种:

- 200 OK : 客户端请求成功
- 400 Bad Request : 客户端请求有语法错误，不能被服务器所理解
- 401 Unauthorized : 请求未经授权，这个状态代码必须和WWW-Authenticate一起使用 
- 403 Forbidden : 服务器收到请求，但是拒绝提供服务
- 404 Not Found : 请求资源不存在，eg：输入了错误的URL
- 500 Internal Server Error  : 服务器发生不可预期的错误
- 503 Server Unavailable : 服务器当前不能处理客户端的请求，一段时间后可能恢复正常

## SSL/TLS是怎么进行加密握手的?



# 加密解密

## 对称加密和非对称加密的区别?及常用的算法?

## 有哪些摘要算法?说说你常见的某个摘要算法?

# 文件处理

## 常见的编码方式有哪些？

## utf-8编码中的中文站几个字节？int呢？

## 如何实现一个JSON解析器？

## 列出某个文件下所有的文件?

